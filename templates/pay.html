<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Colorlib Templates">
    <meta name="author" content="Colorlib">
    <meta name="keywords" content="Colorlib Templates">

    <!-- Title Page-->
    <title>Registration Form</title>

    <!-- Icons font CSS-->
    <link href="{{ url_for('static', filename='css/material-design-iconic-font.min.css') }}" rel="stylesheet" media="all">
    <link href="{{ url_for('static', filename='css/font-awesome.min.css') }}" rel="stylesheet" media="all">

    <!--OR-->
<!--    <link href="../static/vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">-->
<!--    <link href="../static/vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">-->

    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <!--OR-->
<!--    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">-->

    <!-- Vendor CSS-->
    <link href="{{ url_for('static', filename='vendor/select2/select2.min.css') }}" rel="stylesheet" media="all">
    <link href="{{ url_for('static', filename='vendor/datepicker/daterangepicker.css') }}" rel="stylesheet" media="all">

    <!--OR-->
<!--    <link href="../static/vendor/select2/select2.min.css" rel="stylesheet" media="all">-->
<!--    <link href="../static/vendor/datepicker/daterangepicker.css" rel="stylesheet" media="all">-->

<!--    Bootstarp Css-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- Main CSS-->
    <link href="{{ url_for('static', filename='css/main.css') }}" rel="stylesheet" media="all">
<!--OR-->
<!--    <link href="../static/css/main.css" rel="stylesheet" media="all">-->

</head>
<style>
button{
    padding : 5px 0px 5px 0px;
    }
.card-3 .card-heading {
  background: url("../static/images/hashtag.jpeg") top left/cover no-repeat;
  display: table-cell;
  width: 50%;
  margin-right : auto;

}

.card-3 .card-body {
  padding: 57px 65px;
  padding-bottom: 65px;
  display: table-cell;
}

@media (max-width: 767px) {
  .card-3 {
    display: block;
  }
  .card-3 .card-heading {
    display: block;
    width: 100%;
    padding-top: 400px;
    background-position: center center;
  }
  .card-3 .card-body {
    display: block;
    width: 100%;
    padding: 37px 30px;
    padding-bottom: 45px;
  }}


}


</style>

<body>
    <div class="page-wrapper bg-gra-01 p-t-180 p-b-100 font-poppins">
        <div class="wrapper wrapper--w780">
            <div class="card card-3">
                <div class="card-heading"></div>
                <div class="card-body">
                    <h1 class="title" style="text-align : center;">Payment Mode</h1>
<!--                        <div class="p-t-10">-->
<!--                            <button id="rzp-button1" class="btn-primary btn&#45;&#45;pill">Pay with Razorpay</button>-->
<!--                            <script src="https://checkout.razorpay.com/v1/checkout.js"></script>-->
<!--                        </div>-->




<!--                        <div class="p-t-10">-->
<!--                            <button id="cash-button1" class="btn-primary btn&#45;&#45;pill">Pay with Cash</button>-->
<!--                        </div>-->

                    <div class="container" id="payment-mode">
                        <div class="row">
                            <div class="col-sm">
                                <button id="rzp-button1" class="btn btn-primary btn-lg col-lg-12 col-md-12 col-sm-12 btn-pill" name="Bank Transfer">Bank Transfer</button>
<!--                                <script src="https://sdk.cashfree.com/js/v3/cashfree.js"></script>-->

                                <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
                            </div>
                            <div class="col-sm">
                                <button id="cash-button1" class="btn btn-success btn-lg col-lg-12 col-md-12 col-sm-12 btn-pill" name="Cash">Cash</button>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>
    <script>
    document.getElementById("cash-button1").addEventListener("click", function() {
      var cashPaymentUrl = "{{ url_for('cash_payment') }}";
      window.open(cashPaymentUrl);

    });
  </script>

    <!-- Jquery JS-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <!-- Vendor JS-->
    <script src="vendor/select2/select2.min.js"></script>
    <script src="vendor/datepicker/moment.min.js"></script>
    <script src="vendor/datepicker/daterangepicker.js"></script>

    <!-- Main JS-->
    <script src="js/global.js"></script>



<script>
var options = {
    "key": "{{razorpay_key_id}}", // Enter the Key ID generated from the Dashboard
    "amount": "50000", // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise
    "currency": "INR",
    "name": "Hashtag",
    "description": "Register",
    "image": "https://example.com/your_logo",
    "order_id": "{{ payment['id'] }}", //This is a sample Order ID. Pass the `id` obtained in the response of Step 1
    "handler": function (response){
        window.location.href = "/success";
<!--        alert(response.razorpay_payment_id);-->
<!--        alert(response.razorpay_order_id);-->
<!--        alert(response.razorpay_signature)-->
    },

    "theme": {
        "color": "#FF0077"
    }
};
var rzp1 = new Razorpay(options);
rzp1.on('payment.failed', function (response){
        alert(response.error.code);
        alert(response.error.description);
        alert(response.error.source);
        alert(response.error.step);
        alert(response.error.reason);
        alert(response.error.metadata.order_id);
        alert(response.error.metadata.payment_id);
});
document.getElementById('rzp-button1').onclick = function(e){
    rzp1.open();
    e.preventDefault();
}


<!--GET FEES By SELECTiNG BATCHES-->

<!-- Same apps script code as GetFees shared before   -->

    function doGet() {
      return HtmlService.createTemplateFromFile('index').evaluate();
      }




</script>





</body>
</html>